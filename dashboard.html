<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Employee Shuttle Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>

<body class="dashboard">

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">ShuttleSys</div>

        <ul class="menu">
            <!-- Dashboard Link -->
            <li>
                <a href="dashboard.html" style="text-decoration:none; color:inherit;">
                    <strong>Dashboard</strong>
                </a>
            </li>

            <!-- Accounts -->
            <li>
                <a href="Account.html" style="text-decoration:none; color:inherit;">
                    Accounts
                </a>
            </li>

            <!-- Shuttle Dropdown -->
            <li>
                <div class="dropdown-btn" onclick="toggleDropdown('shuttleMenu')">
                    Shuttle ▾
                </div>

                <ul class="dropdown-menu" id="shuttleMenu">
                    <li><a href="shuttle.html?id=1">Shuttle 1</a></li>
                    <li><a href="shuttle.html?id=2">Shuttle 2</a></li>
                    <li><a href="shuttle.html?id=3">Shuttle 3</a></li>
                </ul>
            </li>

            <!-- Records -->
            <li>
                <a href="daily_records.html" style="text-decoration:none; color:inherit;">
                    Records
                </a>
            </li>
        </ul>
    </aside>

    <!-- Main Area -->
    <div class="main">

        <!-- Topbar -->
        <header class="topbar">
            <div class="user-dropdown" style="margin-left:auto;">
                <button class="user-btn" onclick="toggleUserMenu()">
                    John Doe ▾
                </button>

                <ul class="user-menu" id="userMenu">
                    <li><a href="#">Edit Account</a></li>
                    <li><a href="#">Logout</a></li>
                </ul>
            </div>
        </header>

        <!-- Content -->
        <main class="content">

            <!-- Passenger Count Cards -->
            <section class="cards">
                <div class="card">
                    <h4>Shuttle 1</h4>
                    <h2 id="bus1Count">0</h2>
                </div>

                <div class="card">
                    <h4>Shuttle 2</h4>
                    <h2 id="bus2Count">0</h2>
                </div>

                <div class="card">
                    <h4>Shuttle 3</h4>
                    <h2 id="bus3Count">0</h2>
                </div>
            </section>

            <!-- Today's Passenger Records -->
            <section class="chart-box" id="todayRecordsSection">
                <h4>Today's Records — All Shuttles</h4>

                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Shuttle ID</th>
                            <th>Employee ID</th>
                        </tr>
                    </thead>

                    <tbody id="todayPassengerTable">
                        <!-- Today records will appear here -->
                    </tbody>
                </table>
            </section>

        </main>
    </div>

    <!-- JavaScript -->
    <script>
        function toggleDropdown(id) {
            const menu = document.getElementById(id);
            menu.style.display = menu.style.display === "block" ? "none" : "block";
        }

        function toggleUserMenu() {
            const menu = document.getElementById("userMenu");
            menu.style.display = menu.style.display === "block" ? "none" : "block";
        }

        window.addEventListener("click", function (e) {
            const menu = document.getElementById("userMenu");
            const button = document.querySelector(".user-btn");

            if (!button.contains(e.target) && !menu.contains(e.target)) {
                menu.style.display = "none";
            }
        });
    </script>

</body>
</html>
